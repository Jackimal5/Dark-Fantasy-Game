[gd_scene load_steps=16 format=3 uid="uid://bwfvxotp2spi4"]

[ext_resource type="Texture2D" uid="uid://15je4h1mi26n" path="res://Assets/Skybox/Sky_Texture.hdr" id="1_2vqi4"]
[ext_resource type="AudioStream" uid="uid://crg0lsr8mbtrk" path="res://Assets/Audio/forest-ambience-296528.mp3" id="2_yvejt"]
[ext_resource type="Material" uid="uid://dyb6bmv74we2o" path="res://Assets/Materials/world.tres" id="3_x8fjb"]
[ext_resource type="Script" uid="uid://bp21ylo7slqrh" path="res://Scripts/Scene_Scripts/You need help.gd" id="5_0dr8g"]
[ext_resource type="Shader" uid="uid://b3s5eypue10i8" path="res://Scripts/Shaders/Toon_Shading.gdshader" id="6_2vqi4"]
[ext_resource type="PackedScene" uid="uid://txlml75bby3c" path="res://Scenes/Preset_Stuff/player.tscn" id="6_442oq"]
[ext_resource type="PackedScene" uid="uid://c7wwpayrel6yx" path="res://Scenes/Preset_Stuff/npc_template.tscn" id="8_x8fjb"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_eyyqp"]
panorama = ExtResource("1_2vqi4")

[sub_resource type="Sky" id="Sky_tf7oq"]
sky_material = SubResource("PanoramaSkyMaterial_eyyqp")

[sub_resource type="Environment" id="Environment_c8t22"]
background_mode = 2
sky = SubResource("Sky_tf7oq")
sky_rotation = Vector3(0, 2.87979, 0)
tonemap_mode = 4
glow_enabled = true

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_03lng"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_yvejt"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yvejt"]
render_priority = 0
shader = ExtResource("6_2vqi4")
shader_parameter/outline_color = Color(0, 0, 0, 1)
shader_parameter/outline_width = 3.83
shader_parameter/constant_width = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_x8fjb"]
next_pass = SubResource("ShaderMaterial_yvejt")
albedo_color = Color(0.708142, 0, 0.138469, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_j71bo"]

[node name="World" type="Node3D"]

[node name="Enviorment" type="Node3D" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="Enviorment"]
environment = SubResource("Environment_c8t22")

[node name="Light_3d" type="DirectionalLight3D" parent="Enviorment"]
transform = Transform3D(0.708751, -0.637011, 0.303133, -0.33362, 0.0759536, 0.939643, -0.621587, -0.767104, -0.158687, 0, 0, 0)
shadow_enabled = true

[node name="Stage" type="Node3D" parent="."]

[node name="Blocks" type="Node3D" parent="Stage"]

[node name="Floor" type="CSGBox3D" parent="Stage/Blocks"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00845146, -0.715119, 0.440202)
material_override = ExtResource("3_x8fjb")
use_collision = true
size = Vector3(20, 1, 20)
material = ExtResource("3_x8fjb")

[node name="Floor2" type="CSGBox3D" parent="Stage/Blocks"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.38955, 4.49597, 0.440202)
material_override = ExtResource("3_x8fjb")
use_collision = true
size = Vector3(3.23779, 8.47412, 20)
material = ExtResource("3_x8fjb")

[node name="You need help" type="Area3D" parent="Stage"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -11.4555, 0)
collision_layer = 0
script = ExtResource("5_0dr8g")

[node name="Falling_Collider" type="CollisionShape3D" parent="Stage/You need help"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0291762, -0.0238829, 0.00687313)
shape = SubResource("WorldBoundaryShape3D_03lng")

[node name="Audio" type="AudioStreamPlayer3D" parent="Stage"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.36349, 0)
stream = ExtResource("2_yvejt")
max_db = 0.0
autoplay = true
max_distance = 100.0

[node name="player" parent="." instance=ExtResource("6_442oq")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00445192, 0.0213213, 0.0224486)

[node name="NPC_1" parent="." instance=ExtResource("8_x8fjb")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.688746, 0.784881, -5.81585)

[node name="Dummy" type="RigidBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.98376, 1.27617, 6.12106)
collision_layer = 5
collision_mask = 5

[node name="Dummy_Mesh" type="MeshInstance3D" parent="Dummy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.001, 0, 0)
mesh = SubResource("CapsuleMesh_yvejt")
skeleton = NodePath("")
surface_material_override/0 = SubResource("StandardMaterial3D_x8fjb")

[node name="Dummy_Collider" type="CollisionShape3D" parent="Dummy"]
shape = SubResource("CapsuleShape3D_j71bo")

[connection signal="body_entered" from="Stage/You need help" to="Stage/You need help" method="_on_body_entered"]
